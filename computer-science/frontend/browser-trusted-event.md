# 浏览器：什么是可信输入事件(trusted event)

<!--
ID: 572dc7f8-81f0-4134-82c6-8265b5a375d5
Status: draft
Date: 2019-07-24T14:33:15
Modified: 2020-05-16T10:52:17
wp_id: 288
-->

浏览器中 "trusted" 和 "untrusted" 事件的区别是什么？

在浏览器中



Q: What’s the difference between a “trusted" and "untrusted" input event?
In browsers, input events could be divided into two big groups: trusted vs. untrusted.

Trusted events: events generated by users interacting with the page, e.g. using a mouse or keyboard.
Untrusted event: events generated by Web APIs, e.g. document.createEvent or element.click() methods.
Websites can distinguish between these two groups:

using an Event.isTrusted event flag
sniffing for accompanying events. For example, every trusted 'click' event is preceded by 'mousedown' and 'mouseup' events.
For automation purposes it’s important to generate trusted events. All input events generated with Puppeteer are trusted and fire proper accompanying events. If, for some reason, one needs an untrusted event, it’s always possible to hop into a page context with page.evaluate and generate a fake event:

await page.evaluate(() => {
  document.querySelector('button[type=submit]').click();
});